<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="box">
	
	<!-- 전체 음악 목록 -->
	<select id="music_list" resultType="music">
	    <![CDATA[
		select * from music
		]]>
	</select>
	
	<!-- 최신 곡 목록-->
	<select id="recent_music_list" parameterType="int" resultType="music">
	    <![CDATA[
		select * from 
		  (select rownum rnum,id,similarity,genre,artist,
		  title,album,publishdate,albumcoverfilepath,lyrics
		  from (select * from music order by publishdate desc))
		  where rnum <= #{count}
		]]>
	</select>
	
	<!-- 전체 공연 목록 -->
	<select id="concert_list" resultType="concert">
	    <![CDATA[
		select * from concert
		]]>
	</select>
	
	<!-- 전체 게시글 목록 -->
	<select id="generalboard_list" resultType="generalboard">
	    <![CDATA[
		select * from generalboard
		]]>
	</select>
	
	<!-- 유저 조회 -->
	<select id="user_info" parameterType="String" resultType="user">
	    <![CDATA[
		select * from users where #{id}
		]]>
	</select>
</mapper>




















